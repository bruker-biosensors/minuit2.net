cmake_minimum_required(VERSION 3.13)
set(CMAKE_CXX_STANDARD 17)
project(minuit2.wrap CXX C)

set(CMAKE_SWIG_FLAGS)
FIND_PACKAGE(SWIG REQUIRED)
include(UseSWIG)
# INCLUDE(${SWIG_USE_FILE})

# INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

# SET(CMAKE_SWIG_FLAGS "")

SET_SOURCE_FILES_PROPERTIES(Minuit2.i PROPERTIES CPLUSPLUS ON)
#SET_SOURCE_FILES_PROPERTIES(Minuit2.i PROPERTIES nodefaultctor ON)

set(SOURCE_FILES 
FCNGradientBaseWrap.cpp
 MnMigradWrap.cpp
  Minuit2.i)

set(HEADER_FILES 
FCNGradientBaseWrap.h
 MnMigradWrap.h)

SWIG_ADD_LIBRARY(minuit2.wrap
LANGUAGE csharp
OUTPUT_DIR ${MINUIT2NET_PATH}
SOURCES ${SOURCE_FILES}  ${HEADER_FILES})


target_include_directories(minuit2.wrap PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})
 set_target_properties(minuit2.wrap PROPERTIES
  SWIG_USE_TARGET_INCLUDE_DIRECTORIES ON
  POSITION_INDEPENDENT_CODE ON)

#add_library(minuit2.wrap SHARED ${SOURCE_FILES}  ${HEADER_FILES})

TARGET_LINK_LIBRARIES(minuit2.wrap PRIVATE Minuit2::Minuit2)

